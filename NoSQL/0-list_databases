// Import the MongoDB Node.js driver
const MongoClient = require('mongodb').MongoClient;

// Connection URL
const url = 'mongodb://localhost:27017';

// Connect to the MongoDB server
MongoClient.connect(url, { useUnifiedTopology: true }, (err, client) => {
    if (err) {
        console.error('Error connecting to MongoDB:', err);
        return;
    }

    // Get a list of all the databases
    const adminDb = client.db('admin');
    adminDb.listDatabases().toArray((err, dbs) => {
        if (err) {
            console.error('Error listing databases:', err);
        } else {
            console.log('List of databases:');
            dbs.forEach(db => {
                console.log(db.name);
            });
        }

        // Close the connection to the MongoDB server
        client.close();
    });
});
